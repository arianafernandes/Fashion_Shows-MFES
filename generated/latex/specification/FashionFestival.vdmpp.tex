\begin{vdmpp}[breaklines=true]
class FashionFestival
 
types
 public String = seq of char;

instance variables
 public  name : String := "";
 public  dateBegin : String := "";
 public  dateEnd : String := "";
 public  local : String := "";
 public events: seq of Event := [];
 public numberEvents: int := 0; 
 public fashionUsers : set of FashionUser := {};
 public output : String := "";
 public outputN : String := "";
 
 inv len name > 0 and len dateBegin > 0 and len dateEnd > 0 and len local > 0;
 
operations
(*@
\label{FashionFestival:20}
@*)
 public FashionFestival : 
              String *
              String * 
              String *
              String            
              ==> FashionFestival
  FashionFestival(nm, di, df , lc) ==
  (
    name := nm;
    dateBegin := di;
    dateEnd := df;
    local := lc;    
    return self;
  );
  
  --retorna os parametros da class event
(*@
\label{getName:36}
@*)
  public pure getName : () ==> String
    getName() == return name
  post RESULT = name;
    
(*@
\label{getDateBegin:40}
@*)
   public pure getDateBegin : () ==> String
     getDateBegin() == return dateBegin
  post RESULT = dateBegin; 
   
(*@
\label{getDateEnd:44}
@*)
  public pure getDateEnd : () ==> String
     getDateEnd() == return dateEnd
  post RESULT = dateEnd;   
  
(*@
\label{getLocal:48}
@*)
  public pure getLocal : () ==> String
     getLocal() == return local
  post RESULT = local;
  
(*@
\label{getEvents:52}
@*)
  public pure getEvents : () ==> seq of Event
     getEvents() == return events
  post RESULT = events;
     
 --Adiciona designer ao evento
(*@
\label{insertEvent:57}
@*)
 public insertEvent : Event ==> ()
  insertEvent(ev) ==
  (
    events := [ev] ^ events;
    numberEvents := numberEvents + 1;
  )
  pre ev not in set elems getEvents()
  post ev in set elems getEvents();
  
   --Adiciona designer ao evento
(*@
\label{insertFashionUser:67}
@*)
 public insertFashionUser: (FashionUser)  ==> ()
  insertFashionUser(us) ==
  (
    fashionUsers := fashionUsers union {us};
  )
  pre us not in set  getFashionUsers()
  post us in set  getFashionUsers();
  
 --retorna nr designers do evento
(*@
\label{getNumberEvents:76}
@*)
  public pure getNumberEvents : () ==> int
  getNumberEvents() == return numberEvents
  post RESULT = numberEvents;
  
  --retorna utilizadores da aplicaçao
(*@
\label{getFashionUsers:81}
@*)
  public pure getFashionUsers : () ==> set of FashionUser
  getFashionUsers() == return fashionUsers
  post RESULT = fashionUsers;
  
(*@
\label{getNumberFashionUsers:85}
@*)
  public pure getNumberFashionUsers: () ==> nat
  getNumberFashionUsers() ==
  return (card fashionUsers)
  post RESULT = (card fashionUsers);
  
  
(*@
\label{printFashionFestival:91}
@*)
  public printFashionFestival: () ==> String
  printFashionFestival() == (
  output := "Name: "^name^"\n"
       ^"Date Begin: "^dateBegin^"\n"
       ^"Date End: "^dateEnd^"\n"
       ^"Local: "^local^"\n";
  return output;
  )
  post RESULT = output;
  
  
(*@
\label{printFashionFestivalName:102}
@*)
   public printFashionFestivalName: () ==> String
  printFashionFestivalName() == (
  outputN := name^"\n";
  return outputN;
  )
  post RESULT = outputN;
  
end FashionFestival
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[FashionFestival:20]{FashionFestival} & 20&100.0\% & 2 \\
\hline
\hyperref[getDateBegin:40]{getDateBegin} & 40&100.0\% & 2 \\
\hline
\hyperref[getDateEnd:44]{getDateEnd} & 44&100.0\% & 2 \\
\hline
\hyperref[getEvents:52]{getEvents} & 52&100.0\% & 21 \\
\hline
\hyperref[getFashionUsers:81]{getFashionUsers} & 81&100.0\% & 6 \\
\hline
\hyperref[getLocal:48]{getLocal} & 48&100.0\% & 2 \\
\hline
\hyperref[getName:36]{getName} & 36&100.0\% & 5 \\
\hline
\hyperref[getNumberEvents:76]{getNumberEvents} & 76&100.0\% & 2 \\
\hline
\hyperref[getNumberFashionUsers:85]{getNumberFashionUsers} & 85&100.0\% & 1 \\
\hline
\hyperref[insertEvent:57]{insertEvent} & 57&100.0\% & 4 \\
\hline
\hyperref[insertFashionUser:67]{insertFashionUser} & 67&100.0\% & 2 \\
\hline
\hyperref[printFashionFestival:91]{printFashionFestival} & 91&100.0\% & 1 \\
\hline
\hyperref[printFashionFestivalName:102]{printFashionFestivalName} & 102&100.0\% & 2 \\
\hline
\hline
FashionFestival.vdmpp & & 100.0\% & 52 \\
\hline
\end{longtable}

