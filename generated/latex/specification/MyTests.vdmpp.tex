\begin{vdmpp}[breaklines=true]
class MyTests

operations

  -- Simulates assertion checking by reducing it to pre-condition checking.
  -- If 'arg' is null or undefined, a pre-condition violation will be signaled.
  -- Verification of pre-conditions must be enabled in order for this to work
(*@
\label{assertNotNull:8}
@*)
  protected assertNotNull : ? ==> ()
  assertNotNull(arg) == return
  pre arg <> nil and arg <> undefined;

  -- Simulates assertion checking by reducing it to post-condition checking.
  -- If values are not equal, prints a message and generates a post-conditions violation.
(*@
\label{assertEqual:14}
@*)
  protected assertEqual : ? * ? ==> ()
  assertEqual(expected, actual) ==
    if expected <> actual then
    (*@\vdmnotcovered{(}@*)
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"Actual value ("}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{actual}@*));
      IO`print((*@\vdmnotcovered{") different from expected ("}@*));
      IO`print((*@\vdmnotcovered{expected}@*));
      (*@\vdmnotcovered{IO`println}@*)((*@\vdmnotcovered{")\textbackslash n"}@*))
    )
  post expected = actual;

end MyTests
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[assertEqual:14]{assertEqual} & 14&38.8\% & 0 \\
\hline
\hyperref[assertNotNull:8]{assertNotNull} & 8&100.0\% & 13 \\
\hline
\hline
MyTests.vdmpp & & 57.6\% & 13 \\
\hline
\end{longtable}

